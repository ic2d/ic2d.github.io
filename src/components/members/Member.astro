---
import "@styles/global.css";
import { SocialMediaIcon } from '@components/ui';

import type { SocialMedia } from "@scripts/interfaces";

/**
 * Componente para um bloco de divulgação de um membro do grupo, com foco visual.
 * @param {Object} props - As propriedades do componente.
 * @param {string} [props.name_prefix] - Prefixo do nome (opcional, e.g. Dr., Prof., etc.).
 * @param {string} [props.name] - Nome completo do membro.
 * @param {string} [props.subtitle] - Conteúdo adicional em formato de subtítulo.
 * @param {string} [props.img_src] - URL da imagem do membro.
 * @param {Array<SocialMedia>} [props.social_media] - Lista de redes sociais do membro.
 */
interface Props{
    name_prefix?: string;
    name: string;
    subtitle: string;
    img_src: string;
    social_media?: SocialMedia[];
}

const { name_prefix = "", name, subtitle, img_src, social_media = [] } = Astro.props;
---

<div class="column team-member">
    <div class="row team-member-pic">
        <img src={img_src} 
            alt=`Fotografia de ${name_prefix ? name_prefix + ' ' + name : name}`
            onerror="this.classList.add('img-error');"/>
    </div>
    <div class="row team-member-info">
        <p class="team-member-name">
            <!-- Renderização condicional do prefixo junto ao nome do membro -->
            {name_prefix ? name_prefix + ' ' + name : name}
            <span>{subtitle}</span>
        </p>
        <ul class="team-member-social">
            <!-- Renderização automática dos ícones das mídias sociais do membro -->
            {social_media.map(social_media => (<li>
                <SocialMediaIcon name={social_media.name} url={social_media.url}/>
            </li>))}
        </ul>
    </div>
</div>

<!-- =============================================================================================== -->

<style>

.team-member{
    max-width: 220px;
}

/* Ilustração/Fotografia do Membro */
.team-member-pic img{
    height: 200px;
    border-radius: 30%;
    margin: 0;
}

/* Cabeçalho */
.team-member-name {
    font-weight: 500;
    color: var(--color-1);
    margin-bottom: var(--vspace-0_5);
    width: var(--width-full);
}

.team-member-name span {
    display: block;
    font-weight: 400;
    font-size: var(--text-sm);
    line-height: var(--vspace-0_5);
    color: var(--color-text-light);
}

/* Ícones das Mídias Sociais */
.team-member-social {
    list-style: none;
    margin-left: 0;
    display: -ms-flexbox;
    display: -webkit-box;
    display: flex;
    -ms-flex-flow: row wrap;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    flex-flow: row wrap;
}

.team-member-social li {
    padding-left: 0;
    margin-right: 1.2rem;
}

</style>